<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions">

<h:head>
	<title>AENA - GESTION DE AEROPUERTO</title>
</h:head>

<h:body>
	<h2>
		<p:outputLabel>Mejora 3 : </p:outputLabel>
		<p:outputLabel>Dado un avión, determinar el número de asientos ocupados. Este número se corresponde con el número de personas que están dentro de un avión determinado. </p:outputLabel>
	</h2>
	
	<h:form id="datos">

		<p:dataTable var="vuelo" value="#{vuelosBean.vuelos}" id="valor" style=" text-align: center"
                 	paginator="true" rows="15"  
                 	paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"  
                 	rowsPerPageTemplate="5,10,15"> 
                 	
			<p:column headerText="Id">
				<h:outputText value="#{vuelo.idVuelo}" />
			</p:column>

			<p:column headerText="Avion" filterBy="#{vuelo.avion.modelo}">
				<h:outputText value="#{vuelo.avion.modelo}" />
			</p:column>

			<p:column headerText="Nombre" filterBy="#{vuelo.nombre}" >
				<h:outputText value="#{vuelo.nombre}" />
			</p:column>

			
			<p:column headerText="Salida" filterBy="#{vuelo.aeropuertoByIdAeropuertoSalida.nombre}" >
				<h:outputText value="#{vuelo.aeropuertoByIdAeropuertoSalida.nombre}" />
			</p:column>

			<p:column headerText="Salida" filterBy="#{vuelo.horaSalida}" >
				<h:outputText value="#{vuelo.horaSalida}" />
			</p:column>

			<p:column headerText="Llegada" filterBy="#{vuelo.aeropuertoByIdAeropuertoLlegada.nombre}">
				<h:outputText value="#{vuelo.aeropuertoByIdAeropuertoLlegada.nombre}" />
			</p:column>

			<p:column headerText="Llegada" filterBy="#{vuelo.horaLlegada}">
				<h:outputText value="#{vuelo.horaLlegada}" />
			</p:column>


			<p:column headerText="Puerta" filterBy="#{vuelo.puertaByIdPuertaSalida.area}">
				<h:outputText value="#{vuelo.puertaByIdPuertaSalida.area}" />
			</p:column>
			
			<p:column headerText="Asientos Ocupados" >
				<h:outputText  value="#{fn:length(vuelo.reservas)} / #{fn:length(vuelo.pasajeros)}"/>
			</p:column>
		</p:dataTable>

	</h:form>

</h:body>
</html>
